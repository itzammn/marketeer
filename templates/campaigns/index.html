{% extends 'layout/base.html' %}
{% load static %}
{% load django_bootstrap5 %}
{% block css %}{% endblock %}
{% block content %}
<div class="container-fluid">
    <div class="row my-5">
        <div class="col-md-12">
            <div class="p-5 mb-4 bg-light rounded-3">
                <div class="container-fluid py-5">
                  <h1 class="display-5 fw-bold">My Campaigns</h1>
                  <p class="col-md-8 fs-4">Total Campaigns #{{total_campaigns}}</p>
                  <p class="text-muted">Total leads #{{total_leads}} </p>
                  <a href="{% url 'create_campaign' %}" class="btn btn-primary btn-lg" type="button">Create New</a>
                </div>
              </div>
        </div>
        <div class="col-md-8 mx-auto">
            <div class="row align-items-md-stretch">
                {% for cam in campaigns %}
                <div class="col-md-6">
                    <a class="link btn" href="{% url 'campaign_detail' cam.slug %}">
                        <div class="h-100 p-5 border rounded-3">
                            <img src="{{cam.image.url}}" class="img-fluid border-1" alt="">
                            <h2>{{cam.name}}</h2>
                            <p class="lead">{{cam.description}}</p>
                            <p class="text-muted">Target audience : {{cam.target_audience}}</p>
                            <p class="text-muted">Start date : {{cam.start_date}}</p>
                            <p class="text-muted">End date : {{cam.end_date}}</p>
                            <p class="text-muted">Created by : {{cam.client}}</p>
                        </div>
                    </a>
                </div>
                {% empty %}
                <div class="col-md-6">
                    <div class="h-100 p-5 text-white bg-primary border rounded-3">
                        <h2>Create a new campaign</h2>
                        <p>A new campaign is useful for lead generation</p>
                        <a href="{% url 'create_campaign' %}" class="btn btn-outline-primary" type="button">Create</a>
                    </div>
                </div>
                {% endfor %}

            </div>
        </div>
    </div>
</div>

{% endblock %}
{% block js %}{% endblock %}